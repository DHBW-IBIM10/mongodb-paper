%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

\documentclass[11pt, a4paper]{scrartcl}
%---------------------------------------------------------
% Package imports
%---------------------------------------------------------

% Language and encoding
\usepackage[utf8]{inputenc}
\usepackage{csquotes}
\usepackage[USenglish]{babel}
\usepackage[T1]{fontenc}
\usepackage[titles]{tocloft}

% Tables
\usepackage{tabulary}
\usepackage{tabularx}
\usepackage{multirow}
\renewcommand{\arraystretch}{1.4} % increase spacing for table rows
\usepackage{longtable}
\usepackage{booktabs}

% Graphics / figures
\usepackage{graphicx}
\usepackage{wrapfig}

% Used to restrict floating of tables/illustrations
\usepackage{float}
\usepackage{placeins}

% Graphics / figures
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{tikz}

% CSV Support
%\usepackage{csvsimple}

% Footnotes + captions
\usepackage{footnote}

% Bibliography - Biblatex
\usepackage[style=dhbw_ibim,firstinits=true,backend=biber]{biblatex}
\bibliography{bibliography} % Bibliography files

% Abbreviations
\usepackage{nomencl}
\setlength{\nomlabelwidth}{.25\hsize}
\renewcommand{\nomlabel}[1]{#1 \dotfill}
\makenomenclature

% The Euro Symbol Package for LaTeX
\usepackage[right]{eurosym}

% spacing of lists and items
\usepackage{enumitem}
\setlist{nolistsep} % no extra spacing between items
\setlist{noitemsep} % leave space around whole list

%Python embedded
%\usepackage{python}

% Listings
\usepackage{minted}
\usemintedstyle{tango}
% requires -shell-escape argument in pdflatex call
%define standard layouts
%\definecolor{bg}{rgb}{0.97,0.97,0.97}

\newcommand{\mintsettings}{fontsize=\footnotesize,frame=lines,rulecolor=\color{gray},baselinestretch=1} %bgcolor=bg
\newcommand{\mtsetup}[1]{\newmintedfile{#1}{fontsize=\footnotesize,frame=lines,rulecolor=\color{gray},baselinestretch=1,linenos}%
						 \newminted{#1}{fontsize=\footnotesize,frame=lines,rulecolor=\color{gray},baselinestretch=1}}
%environment for listings that span cross several pages
\newenvironment{code}{\captionsetup{belowskip=\normalbaselineskip,type=listing}}{}
% languages to be supported as shortcuts
\mtsetup{javascript}
\mtsetup{xml}
\mtsetup{json}
\mtsetup{bash}
\mtsetup{bat}
\mtsetup{ini}
\mtsetup{yaml}
\mtsetup{ruby}

% Hyperrefs / links (has to be after minted to avoid conflicts)
\usepackage{hyperref}
\usepackage[figurename=Fig.,tablename=Tab.]{caption}

%--------------------------------------------------------------------
% Definitions for the \listofappendices command
%--------------------------------------------------------------------
\usepackage[title]{appendix}

% Use a counter for appendices
\newcounter{appendixctr} 

% Define commands to create a separate list of appendices
\makeatletter 

% Create an auxiliary file for the appendix list with an .app extension
\newcommand{\listofappendices}{\@starttoc{app}}

% Define command to be used to insert an appendix string into the app
% table with entry type myappendix
\newcommand{\addtoappendixlist}[1]{\addcontentsline{app}{myappendix}{#1}}

% Define the command actually used to start an Appendix - generate a
% header and then insert the string name into the table.
\newcommand{\appsection}[1]{%
	%\addtocounter{appendixctr}{1}
	\refstepcounter{appendixctr}
	\subsection*{Appendix \arabic{appendixctr}:\hspace{15pt}#1}
	\addtoappendixlist{Appendix \arabic{appendixctr}:\hspace{10pt}#1}
}

% Define the required command needed to format a myappendix type entry in
% the table.  It uses the standard \@dottedtocline command to actually format
% the entry in the table.
\newcommand{\l@myappendix}[2]{\@dottedtocline{1}{1.5em}{2.3em}{#1}{#2}}
\makeatother


%--------------------------------------------------------------------
% Standard Names / Translations
%--------------------------------------------------------------------
% Table of Contents
\renewcommand\contentsname{Table of Contents}
% List of Abbreviations
\renewcommand{\nomname}{List of Abbreviations}
% Abstract
\renewcommand{\abstractname}{Abstract}
% Appendix
\renewcommand{\appendixname}{Appendix}
% renewal of appendixpagename needed to set proper font size of title
\renewcommand*\appendixpagename{\Large Appendices }
% ToC name for appendices
\renewcommand{\appendixtocname}{Appendices}
% List of Appendices
\newcommand{\listappendixname}{List of Appendices}
% Figure (caption)
%\renewcommand{\figurename}{Fig.}
% List of Figures
\renewcommand{\listfigurename}{List of Figures}
% List of Tables
\renewcommand{\listtablename}{List of Tables}
% References (for articles)
\renewcommand{\refname}{References}
% Lists of References
\newcommand{\listrefname}{Lists of References}
% Table (captions)
%\renewcommand{\tablename}{Tab.}
% Listings (caption)
%\renewcommand\lstlistingname{Lst.}
%  List of Listings
%\renewcommand\lstlistlistingname{List of Listings}
\renewcommand\listoflistingscaption{List of Listings}
% Autoref name for listings
%\def\listingautorefname{Lst.}
\providecommand*{\listingautorefname}{Lst.}
% Listings caption for minted / normal listings
\renewcommand\listingscaption{Lst.}


%--------------------------------------------------------------------
% Ensuring that labels in Lists of Stuff are
% identical to those in the captions
%--------------------------------------------------------------------
\newlength{\mylen}

%Figures
\renewcommand{\cftfigpresnum}{\figurename\enspace}
\renewcommand{\cftfigaftersnum}{:}
\settowidth{\mylen}{\cftfigpresnum\cftfigaftersnum}
\addtolength{\cftfignumwidth}{\mylen}
%Tables
\renewcommand{\cfttabpresnum}{\tablename\enspace}
\renewcommand{\cfttabaftersnum}{:}
\settowidth{\mylen}{\cfttabpresnum\cfttabaftersnum}
\addtolength{\cfttabnumwidth}{\mylen}
%Listings
%TODO: need Lst. #: in front of listing in list of listings.


%---------------------------------------------------------
% Settings & Layout
%---------------------------------------------------------

% Default fonts
\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}

% Border definitions
\usepackage[paper=a4paper,
			left=35mm,
			right=15mm,
			top=25mm,
			bottom=20mm]{geometry}


% Heading lines:
\usepackage{scrpage2}

% Spacing of footnotes
\deffootnote{10pt}{10pt}{\textsuperscript{\thefootnotemark\ }}

% Substitutions for re-use in several places
\newcommand{\papertitle}{Introduction to MongoDB}
\newcommand{\papertype}{Seminar Paper}
\newcommand{\paperauthor}{Rocco Schulz and Robert Wawrzyniak}
% Paper
\newcommand{\pdfkeywords}{mongodb nosql python} % separated by whitespace

\newcommand{\studyprogram}{Int. Business Information Management}
\newcommand{\studycourse}{WWI 2010 I}
\newcommand{\schoolof}{Business}


% Information for distiller pdftex:
\hypersetup{ 
	pdfauthor={Rocco Schulz},
	pdftitle={\papertitle},
	pdfsubject={\papertype  - Program:  \studyprogram | Course: \studycourse},
	pdfkeywords = \pdfkeywords,
	linkcolor={black},
	pdfview=FitV,     % FitH
	pdfstartview=FitV,
	urlcolor=black,   
	breaklinks=true,   
	citebordercolor=0 0 0, 
	filebordercolor=0 0 0,
	linkbordercolor=0 0 0,
	menubordercolor=0 0 0,
	urlbordercolor=0 0 0,
	pdfhighlight=/I,
	pdfborder=0 0 0,   % no boxes for hyperrefs
} 


% Depth for the table of contents
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

% No clubpenalty & widowpenalty
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000
\usepackage[all]{nowidow}


% Hyphenation of long words like classnames

%---------------------------------------------------------
% Contents
%---------------------------------------------------------

\input{content}

%---------------------------------------------------------
% BIBLIOGRAPHY
%---------------------------------------------------------

\newpage

\addsec{\listrefname} %addsec: komaskript befehl - keine Nummerierung
% Set headings for bibliographies
\defbibheading{literatur}{\subsection*{List of Literature}}
\defbibheading{www}{\subsection*{List of Internet and Intranet Resources}}

% Show bibliographies
\printbibliography[nottype=online,heading=literatur]
% warning: includes ALL types but online.
% Check your bibfile to avoid wrong entries here
\printbibliography[type=online,heading=www]

\input{affidavit}

\end{document}

